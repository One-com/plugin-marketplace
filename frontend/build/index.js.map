{"version":3,"file":"index.js","mappings":";;;;;;;;;;AAAa;;AAEb;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;ACbyF;AACtC;AACI;AAEvD,MAAMO,aAAa,GAAGP,iEAAa,CAAC,CAAC;AAErC,MAAMQ,cAAc,GAAGA,CAAC;EAACC;AAAQ,CAAC,KAAK;EACnC,MAAM;IAACC,WAAW;IAAEC,cAAc;IAAEC;EAAc,CAAC,GAAGP,gEAAc,CAAC,CAAC,CAAC,CAAC;EACxE,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGZ,4DAAQ,CAAC;IAACa,IAAI,EAAE,EAAE;IAAEC,OAAO,EAAE;EAAE,CAAC,CAAC,CAAC,CAAC;EACrE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,4DAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EACnD,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,4DAAQ,CAAC,MAAM;IACnD,MAAMmB,MAAM,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC1D,OAAOJ,MAAM,CAACK,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK;EAClC,CAAC,CAAC;EACC,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG1B,4DAAQ,CAACQ,WAAW,GAAGS,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;EAC9E,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,4DAAQ,CAAC,EAAE,CAAC,CAAC,CAAE;EACzD,MAAM,CAAC6B,aAAa,EAAEC,gBAAgB,CAAC,GAAG9B,4DAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EACxD,MAAM+B,IAAI,GAAG,CACT;IAACC,GAAG,EAAE,KAAK;IAAEC,KAAK,EAAEC,YAAY,CAACC,MAAM,CAACC,GAAG;IAAEC,KAAK,EAAE7B,WAAW,CAAC4B,GAAG,EAAEE,MAAM,IAAI,CAAC;IAAGC,UAAU,EAAC;EAAmD,CAAC,EAClJ;IACIP,GAAG,EAAE,aAAa;IAClBC,KAAK,EAAEC,YAAY,CAACC,MAAM,CAACK,kBAAkB;IAC7CH,KAAK,EAAE7B,WAAW,CAACiC,WAAW,EAAEH,MAAM,IAAI,CAAC;IAC3CC,UAAU,EAAC;EACf,CAAC,EACD;IAACP,GAAG,EAAE,aAAa;IAAEC,KAAK,EAAEC,YAAY,CAACC,MAAM,CAACO,WAAW;IAAEL,KAAK,EAAE7B,WAAW,CAACkC,WAAW,EAAEJ,MAAM,IAAI,CAAC;IACpGC,UAAU,EAAC;EAAgD,CAAC,CACnE;;EAGD;EACA,MAAMI,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,OAAO,KAAK;IAC/CpC,cAAc,CAACqC,IAAI,KAAK;MACvB,GAAGA,IAAI;MACP,CAAC7B,SAAS,GAAG6B,IAAI,CAAC7B,SAAS,CAAC,CAAC8B,GAAG,CAACC,MAAM,IACtCA,MAAM,CAACJ,IAAI,KAAKA,IAAI,GAAG;QAAE,GAAGI,MAAM;QAAE,GAAGH;MAAQ,CAAC,GAAGG,MACpD;IACD,CAAC,CAAC,CAAC;IAEGtB,aAAa,CAACuB,WAAW,IACrBA,WAAW,CAACF,GAAG,CAACC,MAAM,IAClBA,MAAM,CAACJ,IAAI,KAAKA,IAAI,GAAG;MAAC,GAAGI,MAAM;MAAE,GAAGH;IAAO,CAAC,GAAGG,MACrD,CACJ,CAAC;EACL,CAAC;;EAED;EACA/C,6DAAS,CAAC,MAAM;IACZyB,aAAa,CAAClB,WAAW,GAAGS,SAAS,CAAC,IAAI,EAAE,CAAC;EACjD,CAAC,EAAE,CAACA,SAAS,EAAET,WAAW,CAAC,CAAC;EAE/B,MAAM0C,cAAc,GAAGhD,0DAAM,CAAC,KAAK,CAAC;EAEpCD,6DAAS,CAAC,MAAM;IACf,MAAMkB,MAAM,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC1D,MAAM4B,UAAU,GAAGhC,MAAM,CAACK,GAAG,CAAC,QAAQ,CAAC;;IAEvC;IACA,IAAI,CAAC2B,UAAU,IAAID,cAAc,CAACE,OAAO,EAAE;;IAE3C;IACA,IAAI,CAAC3B,UAAU,IAAIA,UAAU,CAACa,MAAM,KAAK,CAAC,EAAE;;IAE5C;IACA,MAAMe,iBAAiB,GAAG5B,UAAU,CAAC6B,IAAI,CAACN,MAAM,IAAIA,MAAM,CAACJ,IAAI,KAAKO,UAAU,CAAC;IAC/E,IAAI,CAACE,iBAAiB,EAAE;;IAExB;IACAE,UAAU,CAAC,MAAM;MAChB,MAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,UAAUP,UAAU,EAAE,CAAC;MAC/D,IAAIK,OAAO,EAAE;QACZA,OAAO,CAACG,cAAc,CAAC;UAAEC,QAAQ,EAAE,QAAQ;UAAEC,KAAK,EAAE;QAAS,CAAC,CAAC;QAC/DX,cAAc,CAACE,OAAO,GAAG,IAAI;;QAE7B;QACA,MAAMU,GAAG,GAAG,IAAIC,GAAG,CAAC1C,MAAM,CAACC,QAAQ,CAAC0C,IAAI,CAAC;QACzCF,GAAG,CAACG,YAAY,CAACC,MAAM,CAAC,QAAQ,CAAC;QACjC7C,MAAM,CAAC8C,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEX,QAAQ,CAACY,KAAK,EAAEP,GAAG,CAACQ,QAAQ,CAAC,CAAC,CAAC;MAChE;IACD,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;EACX,CAAC,EAAE,CAAC7C,UAAU,EAAER,SAAS,CAAC,CAAC;EAGxB,OACIsD,oDAAA,CAAClE,aAAa,CAACmE,QAAQ;IAACC,KAAK,EAAE;MAC3B9D,SAAS;MAAEC,YAAY;MACvBG,SAAS;MAAEC,YAAY;MACvBC,SAAS;MAAEC,YAAY;MACvBR,cAAc;MACdF,WAAW;MAAEC,cAAc;MAAEsB,IAAI;MACjCN,UAAU;MAAEC,aAAa;MACzBC,aAAa;MAAEC,gBAAgB;MAC/BC,aAAa;MAAEC,gBAAgB;MAC/Ba;IACJ;EAAE,GACGpC,QACmB,CAAC;AAEjC,CAAC;AAED,SAASmE,gBAAgBA,CAAA,EAAG;EACxB,MAAMC,OAAO,GAAG5E,8DAAU,CAACM,aAAa,CAAC;EACzC,IAAIsE,OAAO,KAAKC,SAAS,EAAE;IACvB,MAAM,IAAIxE,2EAAK,CAAC,+BAA+B,CAAC;EACpD;EACA,OAAOuE,OAAO;AAClB;;;;;;;;;;;;;;;;;;;;;;AC1G4C;AACM;AACyB;AAE3E,MAAMG,YAAY,GAAGA,CAAC;EAAC9B;AAAM,CAAC,KAAK;EAC/B,MAAM;IACFL,iBAAiB;IACjB3B,YAAY;IACZY,gBAAgB;IAChBE,gBAAgB;IAChBlB,YAAY;IAAEK,SAAS;IAAER;EAC7B,CAAC,GAAGiE,gEAAgB,CAAC,CAAC;EACtB,MAAM,CAACK,cAAc,EAAEC,iBAAiB,CAAC,GAAGhF,4DAAQ,CAAC,CAAC,CAAC,CAAC;EAExD,MAAMiF,oBAAoB,GAAGA,CAAA,KAAM;IAC/BJ,yFAAwB,CAAC;MAAC7B,MAAM;MAAEvC,cAAc;MAAEQ;IAAS,CAAC,CAAC;EACjE,CAAC;EAED,MAAMiE,kBAAkB,GAAG,MAAAA,CAAOC,MAAM,EAAEnC,MAAM,KAAK;IACjDhC,YAAY,CAAC,IAAI,CAAC;IAClB,MAAMoE,OAAO,GAAG;MACZ,UAAU,EAAElD,YAAY,CAACC,MAAM,CAACkD,UAAU;MAC1C,YAAY,EAAEnD,YAAY,CAACC,MAAM,CAACmD,YAAY;MAC9C,SAAS,EAAEpD,YAAY,CAACC,MAAM,CAACoD;IACnC,CAAC;IACD3D,gBAAgB,CAACwD,OAAO,CAACD,MAAM,CAAC,CAAC;IACjCrD,gBAAgB,CAACkB,MAAM,CAACwC,IAAI,CAAC,CAAC,CAAC;IAC/BR,iBAAiB,CAAElC,IAAI,KAAM;MAAC,GAAGA,IAAI;MAAE,CAACE,MAAM,CAACJ,IAAI,GAAG;IAAI,CAAC,CAAC,CAAC;IAG7D,IAAI;MACA,MAAM6C,QAAQ,GAAG,MAAMC,KAAK,CAACxD,YAAY,CAACyD,QAAQ,EAAE;QAChDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,mCAAmC;UACnD,kBAAkB,EAAE;QACxB,CAAC;QACDC,IAAI,EAAE,IAAI1E,eAAe,CAAC;UACtB+D,MAAM,EAAE,UAAUA,MAAM,SAAS;UAAE;UACnCY,WAAW,EAAE/C,MAAM,CAACJ,IAAI;UACxBoD,WAAW,EAAEhD,MAAM,CAACwC,IAAI;UACxBS,YAAY,EAAEjD,MAAM,EAAEkD,YAAY;UAClCC,WAAW,EAAEnD,MAAM,EAAEoD;QACzB,CAAC;MACL,CAAC,CAAC;MAEF,IAAI;QACA,MAAMC,MAAM,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;QAEpC,IAAID,MAAM,CAACE,OAAO,IAAIF,MAAM,CAACG,MAAM,KAAK,SAAS,IAAIH,MAAM,CAACxF,IAAI,KAAK,SAAS,EAAE;UAC5ED,YAAY,CAAC;YAACC,IAAI,EAAE,SAAS;YAAEC,OAAO,EAAEuF,MAAM,CAACvF,OAAO,IAAIuF,MAAM,CAACI,IAAI,EAAE3F;UAAO,CAAC,CAAC;UAEhF6B,iBAAiB,CAACK,MAAM,CAACJ,IAAI,EAAE;YAC3B8D,SAAS,EAAEvB,MAAM,KAAK,SAAS,GAAG,IAAI,GAAGnC,MAAM,CAAC0D,SAAS;YACzDC,SAAS,EAAExB,MAAM,KAAK,UAAU,GAAG,IAAI,GAAGA,MAAM,KAAK,YAAY,GAAG,KAAK,GAAGnC,MAAM,CAAC2D;UACvF,CAAC,CAAC;UAEF,IAAIxB,MAAM,KAAK,YAAY,IAAIF,oBAAoB,EAAE;YACjDA,oBAAoB,CAACjC,MAAM,CAAC;UAChC;UACf;UACAO,UAAU,CAAC,MAAM;YAChB,IAAItC,SAAS,IAAI+B,MAAM,EAAEJ,IAAI,EAAE;cAC9B,MAAMkB,GAAG,GAAG,IAAIC,GAAG,CAAC1C,MAAM,CAACC,QAAQ,CAAC0C,IAAI,CAAC;cACzCF,GAAG,CAACG,YAAY,CAAC2C,GAAG,CAAC,KAAK,EAAE3F,SAAS,CAAC;cACtC6C,GAAG,CAACG,YAAY,CAAC2C,GAAG,CAAC,QAAQ,EAAE5D,MAAM,CAACJ,IAAI,CAAC;cAC3CvB,MAAM,CAACC,QAAQ,CAAC0C,IAAI,GAAGF,GAAG,CAACQ,QAAQ,CAAC,CAAC;YACtC,CAAC,MAAM;cACNjD,MAAM,CAACC,QAAQ,CAACuF,MAAM,CAAC,CAAC;YACzB;UACD,CAAC,EAAE,IAAI,CAAC;QACG,CAAC,MAAM;UACHC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEV,MAAM,CAAC;UACzCzF,YAAY,CAAC;YAACC,IAAI,EAAE,OAAO;YAAEC,OAAO,EAAEuF,MAAM,CAACvF,OAAO,IAAIuF,MAAM,CAACI,IAAI,EAAE3F;UAAO,CAAC,CAAC;QAClF;MACJ,CAAC,CAAC,OAAOV,KAAK,EAAE;QACZ;QACA,IAAIqF,QAAQ,CAAC3B,GAAG,IAAI2B,QAAQ,CAAC3B,GAAG,KAAKzC,MAAM,CAACC,QAAQ,CAAC0C,IAAI,EAAE;UACvD,IAAIhB,MAAM,CAACJ,IAAI,KAAK,SAAS,EAAE;YAC3BhC,YAAY,CAAC;cAACC,IAAI,EAAE,SAAS;cAAEC,OAAO,EAAE2E,QAAQ,EAAE3E;YAAO,CAAC,CAAC;YAC3DgG,OAAO,CAACE,IAAI,CAAC,yBAAyB,EAAEvB,QAAQ,CAAC3B,GAAG,CAAC;YACrDzC,MAAM,CAACC,QAAQ,CAAC0C,IAAI,GAAGyB,QAAQ,CAAC3B,GAAG;UACvC,CAAC,MAAM;YACHgD,OAAO,CAACC,GAAG,CAAC3G,KAAK,CAAC;YAClBQ,YAAY,CAAC;cAACC,IAAI,EAAE,OAAO;cAAEC,OAAO,EAAE;YAAmD,CAAC,CAAC;UAC/F;QACJ;MACJ;IACJ,CAAC,CAAC,OAAOV,KAAK,EAAE;MACZ0G,OAAO,CAAC1G,KAAK,CAAC,GAAG+E,MAAM,UAAU,EAAE/E,KAAK,CAAC;MACzCQ,YAAY,CAAC;QAACC,IAAI,EAAE,OAAO;QAAEC,OAAO,EAAEV,KAAK,CAACU;MAAO,CAAC,CAAC;IACzD,CAAC,SAAS;MACNkE,iBAAiB,CAAElC,IAAI,KAAM;QAAC,GAAGA,IAAI;QAAE,CAACE,MAAM,CAACJ,IAAI,GAAG;MAAK,CAAC,CAAC,CAAC;MAC9D5B,YAAY,CAAC,KAAK,CAAC;MACnBY,gBAAgB,CAAC,EAAE,CAAC;MACpBE,gBAAgB,CAAC,EAAE,CAAC;IACxB;EACJ,CAAC;;EAED;EACA,IAAIkB,MAAM,CAACJ,IAAI,KAAK,WAAW,EAAE;IAC7B,IAAII,MAAM,CAACiE,YAAY,IAAI,CAACjE,MAAM,CAAC0D,SAAS,EAAE;MAC1C,OACInC,oDAAA;QAAK2C,SAAS,EAAC;MAAgC,GAC3C3C,oDAAA;QACI2C,SAAS,EAAC,6BAA6B;QACvCC,MAAM,EAAC,QAAQ;QACfnD,IAAI,EAAEhB,MAAM,CAACoE,OAAQ;QACrB,aAAWpE,MAAM,CAACJ,IAAK;QACvB,aAAWI,MAAM,CAACwC;MAAK,GAEtBtD,YAAY,CAACC,MAAM,CAACkF,QACtB,CACF,CAAC;IAEd,CAAC,MAAM,IAAI,CAACrE,MAAM,CAAC0D,SAAS,EAAE;MAC1B,OACInC,oDAAA;QAAK2C,SAAS,EAAC;MAAgC,GAC3C3C,oDAAA;QAAG2C,SAAS,EAAC,mFAAmF;QAACC,MAAM,EAAC,QAAQ;QAACnD,IAAI,EAAEhB,MAAM,CAACsE;MAAU,GACpI/C,oDAAA,eAAOrC,YAAY,CAACC,MAAM,CAACoF,SAAgB,CAAC,EAC5ChD,oDAAA;QACIiD,GAAG,EAAE,GAAGtF,YAAY,CAACuF,QAAQ;MAAgC,CAAU,CAC5E,CACF,CAAC;IAEd,CAAC,MAAM,IAAIzE,MAAM,CAAC0D,SAAS,IAAI1D,MAAM,CAAC2D,SAAS,EAAE;MAC7C,OACIpC,oDAAA;QAAK2C,SAAS,EAAC;MAAgC,GAC3C3C,oDAAA;QAAG1D,IAAI,EAAC,QAAQ;QAACqG,SAAS,EAAC,+BAA+B;QACvDQ,OAAO,EAAEA,CAAA,KAAMxC,kBAAkB,CAAC,YAAY,EAAElC,MAAM;MAAE,GACtD+B,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GAAGV,YAAY,CAACC,MAAM,CAACmD,YAAY,GAAGpD,YAAY,CAACC,MAAM,CAACwF,UACvF,CACF,CAAC;IAEd;EACJ;EAEA,OACIpD,oDAAA;IAAK2C,SAAS,EAAC;EAAgC,GAC1ClE,MAAM,CAAC0D,SAAS,GACb1D,MAAM,CAAC2D,SAAS,GACZpC,oDAAA;IAAQ2C,SAAS,EAAC,+BAA+B;IACzCQ,OAAO,EAAEA,CAAA,KAAMxC,kBAAkB,CAAC,YAAY,EAAElC,MAAM;EAAE,GAC3D+B,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GAAGV,YAAY,CAACC,MAAM,CAACmD,YAAY,GAAGpD,YAAY,CAACC,MAAM,CAACwF,UAClF,CAAC,GAETpD,oDAAA;IAAQ2C,SAAS,EAAC,6BAA6B;IACvCQ,OAAO,EAAEA,CAAA,KAAMxC,kBAAkB,CAAC,UAAU,EAAElC,MAAM;EAAE,GACzD+B,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GAAGV,YAAY,CAACC,MAAM,CAACkD,UAAU,GAAGnD,YAAY,CAACC,MAAM,CAACkF,QAChF,CACX,GAED9C,oDAAA;IAAQ2C,SAAS,EAAC,+BAA+B;IAACQ,OAAO,EAAEA,CAAA,KAAMxC,kBAAkB,CAAC,SAAS,EAAElC,MAAM;EAAE,GAClG+B,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GAAGV,YAAY,CAACC,MAAM,CAACoD,UAAU,GAAGrD,YAAY,CAACC,MAAM,CAACyF,OAChF,CAGX,CAAC;AAEd,CAAC;AAED,iEAAe9C,YAAY,E;;;;;;;;;;;;;;;;ACjK8B;AAEzD,MAAM3E,cAAc,GAAGA,CAAA,KAAM;EACzB,MAAM,CAACK,WAAW,EAAEC,cAAc,CAAC,GAAGT,4DAAQ,CAAC;IAAEoC,GAAG,EAAEF,YAAY,CAAC2F;EAAQ,CAAC,CAAC;EAC7E,MAAM,CAACnH,cAAc,EAAEoH,iBAAiB,CAAC,GAAG9H,4DAAQ,CAAC,IAAI,CAAC;EAE1D,MAAM+H,iBAAiB,GAAG,MAAOlH,IAAI,IAAK;IACtCiH,iBAAiB,CAAC,IAAI,CAAC;IACvB,IAAI;MACA,MAAMrC,QAAQ,GAAG,MAAMC,KAAK,CAACxD,YAAY,CAACyD,QAAQ,EAAE;QAChDC,MAAM,EAAE,MAAM;QACdE,IAAI,EAAE,IAAI1E,eAAe,CAAC;UAAE+D,MAAM,EAAE,sBAAsB;UAAEtE;QAAK,CAAC;MACtE,CAAC,CAAC;MAEF,MAAMwF,MAAM,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;MACpC,IAAID,MAAM,CAACE,OAAO,EAAE;QAChB9F,cAAc,CAAEuH,QAAQ,KAAM;UAC1B,GAAGA,QAAQ;UACX,CAACnH,IAAI,GAAGwF,MAAM,CAACI,IAAI,CAACoB,OAAO,CAACI,IAAI,CAAC,CAAC,IAAI;QAC1C,CAAC,CAAC,CAAC;MACP;IACJ,CAAC,CAAC,OAAO7H,KAAK,EAAE;MACZ0G,OAAO,CAAC1G,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAClD,CAAC,SAAQ;MACL0H,iBAAiB,CAAC,KAAK,CAAC;IAC5B;EACJ,CAAC;EAED7H,6DAAS,CAAC,MAAM;IACZiI,OAAO,CAACC,UAAU,CAAC,CACf,CAAC3H,WAAW,CAACiC,WAAW,IAAIsF,iBAAiB,CAAC,aAAa,CAAC,EAC5D,CAACvH,WAAW,CAACkC,WAAW,IAAIqF,iBAAiB,CAAC,aAAa,CAAC,CAC/D,CAAC,CAACK,IAAI,CAAC,MAAMN,iBAAiB,CAAC,KAAK,CAAC,CAAC;EAC3C,CAAC,EAAE,CAACtH,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEA,WAAW;IAAEC,cAAc;IAAEC;EAAe,CAAC;AAC1D,CAAC;AAED,iEAAeP,cAAc,E;;;;;;;;;;;;;;;ACtCqB;AAE3C,MAAM0E,wBAAwB,GAAGA,CAAC;EAAC7B,MAAM;EAAEvC,cAAc;EAAEQ;AAAS,CAAC,KAAK;EAE7ER,cAAc,CAAEuH,QAAQ,IAAK;IACzB,IAAI/G,SAAS,KAAK,aAAa,EAAE;MAC7B,OAAO+G,QAAQ,CAAC,CAAC;IACrB;IACA,IAAI,CAACA,QAAQ,CAACtF,WAAW,CAACY,IAAI,CAAE+E,CAAC,IAAKA,CAAC,CAACzF,IAAI,KAAKI,MAAM,CAACJ,IAAI,CAAC,EAAE;MAC3D,OAAOoF,QAAQ;IACnB;IACA,MAAMM,yBAAyB,GAAGN,QAAQ,CAACtF,WAAW,CAAC6F,MAAM,CAAEF,CAAC,IAAKA,CAAC,CAACzF,IAAI,KAAKI,MAAM,CAACJ,IAAI,CAAC;IAE5F,OAAO;MACH,GAAGoF,QAAQ;MACXtF,WAAW,EAAE4F,yBAAyB,CAAChG,MAAM,GAAG,CAAC,GAAGgG,yBAAyB,GAAG;IACpF,CAAC;EACL,CAAC,CAAC;AAEN,CAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACnBwD,CAAC;AACK;AACO;AAChB;AACV;AAE7B,SAASO,WAAWA,CAAC;EAAEC,UAAU;EAAEC,aAAa;EAAEC,QAAQ;EAAEC;AAAoB,CAAC,EAAE;EAC9F,MAAM,CAACpB,OAAO,EAAEqB,UAAU,CAAC,GAAGlJ,4DAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACmJ,OAAO,EAAEC,UAAU,CAAC,GAAGpJ,4DAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC+E,cAAc,EAAEsE,iBAAiB,CAAC,GAAGrJ,4DAAQ,CAAC,CAAC,CAAC,CAAC;EAExDC,6DAAS,CAAC,MAAM;IACZ,eAAeqJ,YAAYA,CAAA,EAAG;MAC1B,IAAI;QACA,MAAMC,GAAG,GAAG,MAAM7D,KAAK,CAAC,GAAGoD,UAAU,SAAS,CAAC;QAC/C,MAAMxC,IAAI,GAAG,MAAMiD,GAAG,CAACjD,IAAI,CAAC,CAAC;QAC7B,MAAMkD,UAAU,GAAGb,qEAAgB,CAACrC,IAAI,CAAC;QACzC4C,UAAU,CAACM,UAAU,CAAC;MAC1B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACR3C,OAAO,CAAC1G,KAAK,CAAC,yBAAyB,EAAEqJ,CAAC,CAAC;MAC/C,CAAC,SAAS;QACNL,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ;IAEAE,YAAY,CAAC,CAAC;EAClB,CAAC,EAAE,CAACR,UAAU,EAAEC,aAAa,EAAEC,QAAQ,CAAC,CAAC;EAEzC,MAAM9D,kBAAkB,GAAG,MAAAA,CAAOC,MAAM,EAAEnC,MAAM,KAAK;IACjDqG,iBAAiB,CAACvG,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAE,CAACE,MAAM,CAACJ,IAAI,GAAG;IAAK,CAAC,CAAC,CAAC;IAE7D,IAAI;MACA,IAAIkB,GAAG,GAAG,GAAGgF,UAAU,IAAI3D,MAAM,IAAInC,MAAM,CAACJ,IAAI,EAAE;MAClD,IAAImG,aAAa,EAAE;QACfjF,GAAG,GAAG,GAAGkF,QAAQ,CAACrD,QAAQ,uBAAuBR,MAAM,oBAAoB6D,QAAQ,CAACU,KAAK,SAAS1G,MAAM,CAACJ,IAAI,EAAE;MACnH;MAEA,MAAM2G,GAAG,GAAG,MAAM7D,KAAK,CAAC5B,GAAG,EAAE;QAAE8B,MAAM,EAAE;MAAO,CAAC,CAAC;MAChD,MAAMS,MAAM,GAAG,MAAMkD,GAAG,CAACjD,IAAI,CAAC,CAAC;MAE/B,IAAID,MAAM,CAACE,OAAO,EAAE;QAChB;QACA2C,UAAU,CAACpG,IAAI,IACXA,IAAI,CAACC,GAAG,CAACsF,CAAC,IACNA,CAAC,CAACzF,IAAI,KAAKI,MAAM,CAACJ,IAAI,GAChB;UAAE,GAAGyF,CAAC;UAAE3B,SAAS,EAAE,IAAI;UAAEC,SAAS,EAAExB,MAAM,KAAK;QAAW,CAAC,GAC3DkD,CACV,CACJ,CAAC;MACL,CAAC,MAAM;QACHsB,KAAK,CAACtD,MAAM,CAACvF,OAAO,IAAI,0BAA0B,CAAC;MACvD;IACJ,CAAC,CAAC,OAAO8I,GAAG,EAAE;MACV9C,OAAO,CAAC1G,KAAK,CAAC,sBAAsB,EAAEwJ,GAAG,CAAC;IAC9C,CAAC,SAAS;MACNP,iBAAiB,CAACvG,IAAI,KAAK;QAAE,GAAGA,IAAI;QAAE,CAACE,MAAM,CAACJ,IAAI,GAAG;MAAM,CAAC,CAAC,CAAC;IAClE;EACJ,CAAC;EAED,IAAIuG,OAAO,EAAE,OAAO5E,oDAAA,YAAG,oBAAqB,CAAC;EAE7C,OACIA,oDAAA;IAAK2C,SAAS,EAAC;EAA+E,GACzFW,OAAO,CAAC9E,GAAG,CAACC,MAAM,IACfuB,oDAAA;IAAKsF,EAAE,EAAE,UAAU7G,MAAM,CAACJ,IAAI,EAAG;IAACsE,SAAS,EAAC;EAAmD,GAC3F3C,oDAAA;IAAK2C,SAAS,EAAC;EAAsB,GACjC3C,oDAAA;IAAK2C,SAAS,EAAC,SAAS;IAACM,GAAG,EAAExE,MAAM,CAAC8G,SAAU;IAACC,GAAG,EAAE/G,MAAM,CAACwC,IAAK;IAACwE,KAAK,EAAC,IAAI;IACvEC,MAAM,EAAC;EAAI,CAAC,CAChB,CAAC,EACN1F,oDAAA;IAAKvC,GAAG,EAAEgB,MAAM,CAACJ,IAAK;IAACsE,SAAS,EAAC;EAAiB,GAE9C3C,oDAAA;IAAI2C,SAAS,EAAC;EAAe,GAAElE,MAAM,CAACwC,IAAS,CAAC,EAChDjB,oDAAA,YAAIvB,MAAM,CAACkH,WAAW,GAAGlH,MAAM,CAACkH,WAAW,GAAGlH,MAAM,CAACmH,gBAAgB,EAAC,WACnE,CACF,CAAC,EAEN5F,oDAAA,CAACqE,sDAAa;IACV5F,MAAM,EAAEA,MAAO;IACf+B,cAAc,EAAEA,cAAe;IAC/BqF,QAAQ,EAAElF;EAAmB,CAChC,CACA,CACR,CACA,CAAC;AAEd,C;;;;;;;;;;;;;;;;;ACrF0B;AAEX,SAAS0D,aAAaA,CAAC;EAAE5F,MAAM;EAAE+B,cAAc;EAAEqF;AAAS,CAAC,EAAE;EACxE,MAAME,WAAW,GAAInF,MAAM,IAAK;IAC5BiF,QAAQ,CAACjF,MAAM,EAAEnC,MAAM,CAAC;EAC5B,CAAC;EAED,OACIuB,oDAAA;IAAK2C,SAAS,EAAC;EAA2D,GACrElE,MAAM,CAAC0D,SAAS,GACb1D,MAAM,CAAC2D,SAAS,GACZpC,oDAAA;IACI2C,SAAS,EAAC,+BAA+B;IACzCqD,QAAQ,EAAExF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAE;IACtC8E,OAAO,EAAEA,CAAA,KAAM4C,WAAW,CAAC,YAAY;EAAE,GAExCvF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GACtB4H,iBAAiB,CAACrI,MAAM,CAACmD,YAAY,GACrCkF,iBAAiB,CAACrI,MAAM,CAACwF,UAC3B,CAAC,GAETpD,oDAAA;IACI2C,SAAS,EAAC,6BAA6B;IACvCqD,QAAQ,EAAExF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAE;IACtC8E,OAAO,EAAEA,CAAA,KAAM4C,WAAW,CAAC,UAAU;EAAE,GAEtCvF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GACtB4H,iBAAiB,CAACrI,MAAM,CAACkD,UAAU,GACnCmF,iBAAiB,CAACrI,MAAM,CAACkF,QAC3B,CACX,GAED9C,oDAAA;IACI2C,SAAS,EAAC,+BAA+B;IACzCqD,QAAQ,EAAExF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAE;IACtC8E,OAAO,EAAEA,CAAA,KAAM4C,WAAW,CAAC,SAAS;EAAE,GAErCvF,cAAc,CAAC/B,MAAM,CAACJ,IAAI,CAAC,GACtB4H,iBAAiB,CAACrI,MAAM,CAACoD,UAAU,GACnCiF,iBAAiB,CAACrI,MAAM,CAACyF,OAC3B,CAEX,CAAC;AAEd,C;;;;;;;;;;;;;;AC5CO,SAASe,gBAAgBA,CAAC8B,WAAW,EAAE;EAC5C,IAAI,CAACA,WAAW,IAAI,CAACA,WAAW,CAAChE,IAAI,EAAEiE,OAAO,EAAE,OAAO,EAAE;EAEzD,OAAOD,WAAW,CAAChE,IAAI,CAACiE,OAAO,CAAC3H,GAAG,CAAEC,MAAM,IAAK;IAAA,IAAA2H,iBAAA,EAAAC,iBAAA;IAC9C,OAAO;MACL,GAAG5H,MAAM;MAAE;MACXwC,IAAI,EAAExC,MAAM,CAACwC,IAAI,IAAI,SAAS;MAC9B5C,IAAI,EAAEI,MAAM,CAACJ,IAAI,IAAI,EAAE;MACvBiI,KAAK,EAAE7H,MAAM,CAAC6H,KAAK,IAAI,EAAE;MACzBC,MAAM,EAAE9H,MAAM,CAAC8H,MAAM,IAAI,EAAE;MAC3BC,OAAO,EAAE/H,MAAM,CAAC+H,OAAO,IAAI,EAAE;MAC7BC,QAAQ,EAAEhI,MAAM,CAACgI,QAAQ,IAAI,EAAE;MAC/BlB,SAAS,EAAE9G,MAAM,CAAC8G,SAAS,IAAI,EAAE;MACjCI,WAAW,EAAE,OAAOlH,MAAM,CAACkH,WAAW,KAAK,QAAQ,GAC7ClH,MAAM,CAACkH,WAAW,CAAC,OAAO,CAAC,IAAIe,MAAM,CAACC,MAAM,CAAClI,MAAM,CAACkH,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GACxElH,MAAM,CAACkH,WAAW,IAAI,EAAG;MAChCxD,SAAS,GAAAiE,iBAAA,GAAE3H,MAAM,CAAC0D,SAAS,cAAAiE,iBAAA,cAAAA,iBAAA,GAAI,KAAK;MACpChE,SAAS,GAAAiE,iBAAA,GAAE5H,MAAM,CAAC2D,SAAS,cAAAiE,iBAAA,cAAAA,iBAAA,GAAI;IACjC,CAAC;EACH,CAAC,CAAC;AACJ,C;;;;;;;;;;ACpBA,4C;;;;;;;;;;ACAA,yC;;;;;;;;;;ACAA,iC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;ACNgE;AAChB;AACiB;AACd;AAEnD,MAAMQ,cAAc,GAAGA,CAAC;EAAEtC,UAAU;EAAEC,aAAa;EAAEC,QAAQ;EAAEC;AAAoB,CAAC,KAAK;EACrF,OACI1E,oDAAA;IAAK2C,SAAS,EAAC;EAA+B,GAC1C3C,oDAAA,aAAI,mBAAqB,CAAC,EAC1BA,oDAAA,CAACsE,+DAAW;IACRC,UAAU,EAAEA,UAAW;IACvBC,aAAa,EAAEA,aAAc;IAC7BC,QAAQ,EAAEA,QAAS;IACnBC,mBAAmB,EAAEA;EAAoB,CAC5C,CACA,CAAC;AAEd,CAAC;;AAED;AACAxF,QAAQ,CAAC4H,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;EAChD,MAAMC,EAAE,GAAG7H,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC;EACtD,IAAI4H,EAAE,EAAE;IACJ,MAAMC,MAAM,GAAGlK,MAAM,CAACmJ,iBAAiB,IAAI,CAAC,CAAC;IAC7C,MAAMgB,IAAI,GAAGL,8DAAU,CAACG,EAAE,CAAC;IAC3BE,IAAI,CAACC,MAAM,CAAClH,oDAAA,CAAC6G,cAAc;MAAA,GAAKG;IAAM,CAAG,CAAC,CAAC;EAC/C;AACJ,CAAC,CAAC;;AAEF;AACO,SAASG,kBAAkBA,CAACH,MAAM,EAAE;EACvC,MAAMD,EAAE,GAAG7H,QAAQ,CAACkI,aAAa,CAACJ,MAAM,CAACK,QAAQ,IAAI,mBAAmB,CAAC;EACzE,IAAIN,EAAE,EAAE;IACJ,MAAME,IAAI,GAAGL,8DAAU,CAACG,EAAE,CAAC;IAC3BE,IAAI,CAACC,MAAM,CAAClH,oDAAA,CAAC6G,cAAc;MAAA,GAAKG;IAAM,CAAG,CAAC,CAAC;EAC/C;AACJ,C","sources":["webpack://@groupone/marketplace/../../../node_modules/eslint-plugin-react/lib/util/error.js","webpack://@groupone/marketplace/../../../src/PluginContext.js","webpack://@groupone/marketplace/../../../src/components/ToggleButton.js","webpack://@groupone/marketplace/../../../src/hooks/usePluginData.js","webpack://@groupone/marketplace/../../../src/utils/handlePluginDeactivation.js","webpack://@groupone/marketplace/./src/components/MarketPlace.jsx","webpack://@groupone/marketplace/./src/components/PluginActions.jsx","webpack://@groupone/marketplace/./src/components/normalised-plugins.jsx","webpack://@groupone/marketplace/external window [\"wp\",\"components\"]","webpack://@groupone/marketplace/external window [\"wp\",\"element\"]","webpack://@groupone/marketplace/external window \"React\"","webpack://@groupone/marketplace/webpack/bootstrap","webpack://@groupone/marketplace/webpack/runtime/compat get default export","webpack://@groupone/marketplace/webpack/runtime/define property getters","webpack://@groupone/marketplace/webpack/runtime/hasOwnProperty shorthand","webpack://@groupone/marketplace/webpack/runtime/make namespace object","webpack://@groupone/marketplace/./src/index.jsx"],"sourcesContent":["'use strict';\n\n/**\n * Logs out a message if there is no format option set.\n * @param {string} message - Message to log.\n */\nfunction error(message) {\n  if (!/=-(f|-format)=/.test(process.argv.join('='))) {\n    // eslint-disable-next-line no-console\n    console.error(message);\n  }\n}\n\nmodule.exports = error;\n","import {createContext, useContext, useState, useEffect,useRef} from \"@wordpress/element\";\nimport usePluginsData from \"./hooks/usePluginData\";\nimport error from \"eslint-plugin-react/lib/util/error\";\n\nconst PluginContext = createContext();\n\nconst PluginProvider = ({children}) => {\n    const {pluginsData, setPluginsData, loadingPlugins} = usePluginsData(); // fetch & store all plugins\n    const [toastData, setToastData] = useState({type: \"\", message: \"\"}); // toast messages\n    const [isLoading, setIsLoading] = useState(false); // loading between actions overlay depends on this\n    const [activeTab, setActiveTab] = useState(() => {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\treturn params.get('tab') || 'all';\n\t});\n    const [pluginList, setPluginList] = useState(pluginsData?.[activeTab] || []); // plugin list destructured based on the tabs selected\n    const [loadingAction, setLoadingAction] = useState('');  // Stores 'Installing', 'Activating', etc.\n    const [loadingPlugin, setLoadingPlugin] = useState(''); // stores current plugin name in action\n    const tabs = [\n        {key: 'all', label: ocpluginVars.labels.all, count: pluginsData.all?.length || 0 , statsClass:'ocwp_ocp_plugins_onecom_plugins_tab_visited_event'},\n        {\n            key: 'recommended',\n            label: ocpluginVars.labels.recommendedPlugins,\n            count: pluginsData.recommended?.length || 0,\n            statsClass:'ocwp_ocp_plugins_recommended_tab_visited_event'\n        },\n        {key: 'discouraged', label: ocpluginVars.labels.discouraged, count: pluginsData.discouraged?.length || 0,\n            statsClass:'ocwp_ocp_plugins_discouraged_tab_visited_event'},\n    ];\n\n\n    // updates plugin states e.g installed, activated, deactivated\n    const updatePluginState = (slug, newData) => {\n\t\tsetPluginsData(prev => ({\n\t\t\t...prev,\n\t\t\t[activeTab]: prev[activeTab].map(plugin =>\n\t\t\t\tplugin.slug === slug ? { ...plugin, ...newData } : plugin\n\t\t\t),\n\t\t}));\n\n        setPluginList(prevPlugins =>\n            prevPlugins.map(plugin =>\n                plugin.slug === slug ? {...plugin, ...newData} : plugin\n            )\n        );\n    };\n\n    // sync pluginlist on click of tabs\n    useEffect(() => {\n        setPluginList(pluginsData?.[activeTab] || []);\n    }, [activeTab, pluginsData]);\n\n\tconst hasScrolledRef = useRef(false);\n\n\tuseEffect(() => {\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tconst targetSlug = params.get('plugin');\n\n\t\t// Exit early if no plugin slug in URL or already scrolled\n\t\tif (!targetSlug || hasScrolledRef.current) return;\n\n\t\t// Wait until pluginList for the activeTab is populated\n\t\tif (!pluginList || pluginList.length === 0) return;\n\n\t\t// Check if the plugin with targetSlug is in the current tab\n\t\tconst pluginExistsInTab = pluginList.some(plugin => plugin.slug === targetSlug);\n\t\tif (!pluginExistsInTab) return;\n\n\t\t// Try to scroll to the plugin element after slight delay to allow rendering\n\t\tsetTimeout(() => {\n\t\t\tconst element = document.getElementById(`plugin-${targetSlug}`);\n\t\t\tif (element) {\n\t\t\t\telement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n\t\t\t\thasScrolledRef.current = true;\n\n\t\t\t\t// Clean up the URL\n\t\t\t\tconst url = new URL(window.location.href);\n\t\t\t\turl.searchParams.delete('plugin');\n\t\t\t\twindow.history.replaceState({}, document.title, url.toString());\n\t\t\t}\n\t\t}, 1000); // Delay ensures DOM is rendered\n\t}, [pluginList, activeTab]);\n\n\n    return (\n        <PluginContext.Provider value={{\n            toastData, setToastData,\n            isLoading, setIsLoading,\n            activeTab, setActiveTab,\n            loadingPlugins,\n            pluginsData, setPluginsData, tabs,\n            pluginList, setPluginList,\n            loadingAction, setLoadingAction,\n            loadingPlugin, setLoadingPlugin,\n            updatePluginState\n        }}>\n            {children}\n        </PluginContext.Provider>\n    );\n};\n\nfunction usePluginContext() {\n    const context = useContext(PluginContext);\n    if (context === undefined) {\n        throw new error('Context used outside provider');\n    }\n    return context;\n}\n\nexport {PluginProvider, usePluginContext};","import {useState} from '@wordpress/element';\nimport {usePluginContext} from \"../PluginContext\";\nimport {handlePluginDeactivation} from \"../utils/handlePluginDeactivation\";\n\nconst ToggleButton = ({plugin}) => {\n    const {\n        updatePluginState,\n        setIsLoading,\n        setLoadingAction,\n        setLoadingPlugin,\n        setToastData, activeTab, setPluginsData\n    } = usePluginContext();\n    const [pluginInAction, setpluginInAction] = useState({});\n\n    const onPluginDeactivation = () => {\n        handlePluginDeactivation({plugin, setPluginsData, activeTab});\n    }\n\n    const handlePluginAction = async (action, plugin) => {\n        setIsLoading(true);\n        const actions = {\n            'activate': ocpluginVars.labels.activating,\n            'deactivate': ocpluginVars.labels.deactivating,\n            'install': ocpluginVars.labels.installing\n        };\n        setLoadingAction(actions[action]);\n        setLoadingPlugin(plugin.name); // Set plugin name\n        setpluginInAction((prev) => ({...prev, [plugin.slug]: true}));\n\n\n        try {\n            const response = await fetch(ocpluginVars.ajax_url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded',\n                    \"X-Requested-With\": \"XMLHttpRequest\",\n                },\n                body: new URLSearchParams({\n                    action: `onecom_${action}_plugin`, // onecom_install_plugin, onecom_activate_plugin, onecom_deactivate_plugin\n                    plugin_slug: plugin.slug,\n                    plugin_name: plugin.name,\n                    download_url: plugin?.downloadLink,\n                    plugin_type: plugin?.pluginType,\n                }),\n            });\n\n            try {\n                const result = await response.json();\n\n                if (result.success || result.status === \"success\" || result.type === \"success\") {\n                    setToastData({type: \"success\", message: result.message || result.data?.message});\n\n                    updatePluginState(plugin.slug, {\n                        installed: action === \"install\" ? true : plugin.installed,\n                        activated: action === \"activate\" ? true : action === \"deactivate\" ? false : plugin.activated,\n                    });\n\n                    if (action === \"deactivate\" && onPluginDeactivation) {\n                        onPluginDeactivation(plugin);\n                    }\n\t\t\t\t\t// reload after success to sync the menus\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (activeTab && plugin?.slug) {\n\t\t\t\t\t\t\tconst url = new URL(window.location.href);\n\t\t\t\t\t\t\turl.searchParams.set('tab', activeTab);\n\t\t\t\t\t\t\turl.searchParams.set('plugin', plugin.slug);\n\t\t\t\t\t\t\twindow.location.href = url.toString();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 2500);\n                } else {\n                    console.log(\"There was an issue\", result);\n                    setToastData({type: \"alert\", message: result.message || result.data?.message});\n                }\n            } catch (error) {\n                // Redirect if the response includes a valid URL(imagify case)\n                if (response.url && response.url !== window.location.href) {\n                    if (plugin.slug === \"imagify\") {\n                        setToastData({type: \"success\", message: response?.message});\n                        console.warn(\"Redirecting to Imagify:\", response.url);\n                        window.location.href = response.url;\n                    } else {\n                        console.log(error);\n                        setToastData({type: \"alert\", message: \"Something went wrong. Couldn't deactivate plugin.\"});\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(`${action} failed:`, error);\n            setToastData({type: \"alert\", message: error.message});\n        } finally {\n            setpluginInAction((prev) => ({...prev, [plugin.slug]: false}));\n            setIsLoading(false);\n            setLoadingAction('');\n            setLoadingPlugin('');\n        }\n    };\n\n    // Handle Rocket Plugin Special Cases\n    if (plugin.slug === \"wp-rocket\") {\n        if (plugin.is_purchased && !plugin.installed) {\n            return (\n                <div className=\"plugin-actions gv-card-content\">\n                    <a\n                        className=\"gv-button gv-button-primary\"\n                        target=\"_blank\"\n                        href={plugin.cpLogin}\n                        data-slug={plugin.slug}\n                        data-name={plugin.name}\n                    >\n                        {ocpluginVars.labels.activate}\n                    </a>\n                </div>\n            );\n        } else if (!plugin.installed) {\n            return (\n                <div className=\"plugin-actions gv-card-content\">\n                    <a className=\"gv-button gv-button-secondary ocwp_ocp_plugins_wp_rocket_learn_more_clicked_event\" target=\"_blank\" href={plugin.guide_url}>\n                        <span>{ocpluginVars.labels.learnMore}</span>\n                        <gv-icon\n                            src={`${ocpluginVars.imageURL}assets/images/open_in_new.svg`}></gv-icon>\n                    </a>\n                </div>\n            );\n        } else if (plugin.installed && plugin.activated) {\n            return (\n                <div className=\"plugin-actions gv-card-content\">\n                    <a type=\"button\" className=\"gv-button gv-button-secondary\"\n                       onClick={() => handlePluginAction(\"deactivate\", plugin)}>\n                        {pluginInAction[plugin.slug] ? ocpluginVars.labels.deactivating : ocpluginVars.labels.deactivate}\n                    </a>\n                </div>\n            );\n        }\n    }\n\n    return (\n        <div className=\"plugin-actions gv-card-content\">\n            {plugin.installed ? (\n                plugin.activated ? (\n                    <button className=\"gv-button gv-button-secondary\"\n                            onClick={() => handlePluginAction(\"deactivate\", plugin)}>\n                        {pluginInAction[plugin.slug] ? ocpluginVars.labels.deactivating : ocpluginVars.labels.deactivate}\n                    </button>\n                ) : (\n                    <button className=\"gv-button gv-button-primary\"\n                            onClick={() => handlePluginAction(\"activate\", plugin)}>\n                        {pluginInAction[plugin.slug] ? ocpluginVars.labels.activating : ocpluginVars.labels.activate}\n                    </button>\n                )\n            ) : (\n                <button className=\"gv-button gv-button-secondary\" onClick={() => handlePluginAction(\"install\", plugin)}>\n                    {pluginInAction[plugin.slug] ? ocpluginVars.labels.installing : ocpluginVars.labels.install}\n                </button>\n            )}\n\n        </div>\n    );\n};\n\nexport default ToggleButton;","import { useState, useEffect } from '@wordpress/element';\n\nconst usePluginsData = () => {\n    const [pluginsData, setPluginsData] = useState({ all: ocpluginVars.plugins });\n    const [loadingPlugins, setLoadingPlugins] = useState(true);\n\n    const fetchOtherPlugins = async (type) => {\n        setLoadingPlugins(true);\n        try {\n            const response = await fetch(ocpluginVars.ajax_url, {\n                method: 'POST',\n                body: new URLSearchParams({ action: 'onecom_fetch_plugins', type }),\n            });\n\n            const result = await response.json();\n            if (result.success) {\n                setPluginsData((prevData) => ({\n                    ...prevData,\n                    [type]: result.data.plugins.flat() || [],\n                }));\n            }\n        } catch (error) {\n            console.error(\"Error fetching plugins\", error);\n        }finally {\n            setLoadingPlugins(false);\n        }\n    };\n\n    useEffect(() => {\n        Promise.allSettled([\n            !pluginsData.recommended && fetchOtherPlugins(\"recommended\"),\n            !pluginsData.discouraged && fetchOtherPlugins(\"discouraged\"),\n        ]).then(() => setLoadingPlugins(false));\n    }, [pluginsData]);\n\n    return { pluginsData, setPluginsData, loadingPlugins };\n};\n\nexport default usePluginsData;","import {usePluginContext} from \"../PluginContext\";\n\nexport const handlePluginDeactivation = ({plugin, setPluginsData, activeTab}) => {\n\n    setPluginsData((prevData) => {\n        if (activeTab !== \"discouraged\") {\n            return prevData; // No updates if not in discouraged tab\n        }\n        if (!prevData.discouraged.some((p) => p.slug === plugin.slug)) {\n            return prevData;\n        }\n        const updatedDiscouragedPlugins = prevData.discouraged.filter((p) => p.slug !== plugin.slug);\n\n        return {\n            ...prevData,\n            discouraged: updatedDiscouragedPlugins.length > 0 ? updatedDiscouragedPlugins : [],\n        };\n    });\n\n};","import { useState, useEffect } from \"@wordpress/element\"; // WP-provided React\nimport { Button, Card, CardBody } from \"@wordpress/components\";\nimport ToggleButton from \"../../../../../src/components/ToggleButton\";\nimport {normalizePlugins} from \"./normalised-plugins\";\nimport PluginActions from \"./PluginActions\";\n\nexport default function Marketplace({ apiBaseUrl, useWPHandlers, wpConfig, enableDefaultStyles }) {\n    const [plugins, setPlugins] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [pluginInAction, setPluginInAction] = useState({});\n\n    useEffect(() => {\n        async function fetchPlugins() {\n            try {\n                const res = await fetch(`${apiBaseUrl}plugins`);\n                const json = await res.json();\n                const normalized = normalizePlugins(json);\n                setPlugins(normalized);\n            } catch (e) {\n                console.error(\"Failed to fetch plugins\", e);\n            } finally {\n                setLoading(false);\n            }\n        }\n\n        fetchPlugins();\n    }, [apiBaseUrl, useWPHandlers, wpConfig]);\n\n    const handlePluginAction = async (action, plugin) => {\n        setPluginInAction(prev => ({ ...prev, [plugin.slug]: true }));\n\n        try {\n            let url = `${apiBaseUrl}/${action}/${plugin.slug}`;\n            if (useWPHandlers) {\n                url = `${wpConfig.ajax_url}?action=marketplace_${action}_plugin&_wpnonce=${wpConfig.nonce}&slug=${plugin.slug}`;\n            }\n\n            const res = await fetch(url, { method: \"POST\" });\n            const result = await res.json();\n\n            if (result.success) {\n                // ✅ Refresh list or update plugin state locally\n                setPlugins(prev =>\n                    prev.map(p =>\n                        p.slug === plugin.slug\n                            ? { ...p, installed: true, activated: action === \"activate\" }\n                            : p\n                    )\n                );\n            } else {\n                alert(result.message || \"Failed to perform action\");\n            }\n        } catch (err) {\n            console.error(\"Plugin action failed\", err);\n        } finally {\n            setPluginInAction(prev => ({ ...prev, [plugin.slug]: false }));\n        }\n    };\n\n    if (loading) return <p>Loading plugins...</p>;\n\n    return (\n        <div className=\"marketplace gv-grid gv-gap-lg gv-tab-grid-cols-1 gv-desk-grid-cols-2 gv-mt-md\">\n            {plugins.map(plugin => (\n                <div id={`plugin-${plugin.slug}`} className=\"gv-card oc-plugins-box gv-surface-bright gv-pb-lg\">\n                    <div className=\"gv-card-illustration\">\n                        <img className=\"gv-tile\" src={plugin.thumbnail} alt={plugin.name} width=\"72\"\n                             height=\"72\"/>\n                    </div>\n                    <div key={plugin.slug} className='gv-card-content'>\n\n                        <h3 className=\"gv-card-title\">{plugin.name}</h3>\n                        <p>{plugin.description ? plugin.description : plugin.shortDescription} &nbsp;&nbsp;\n                        </p>\n                    </div>\n                    {/* ✅ PluginActions here */}\n                    <PluginActions\n                        plugin={plugin}\n                        pluginInAction={pluginInAction}\n                        onAction={handlePluginAction}\n                    />\n                </div>\n            ))}\n        </div>\n    );\n}","import React from \"react\";\n\nexport default function PluginActions({ plugin, pluginInAction, onAction }) {\n    const handleClick = (action) => {\n        onAction(action, plugin);\n    };\n\n    return (\n        <div className=\"plugin-actions gv-card-content gv-flex gv-gap-sm gv-mt-md\">\n            {plugin.installed ? (\n                plugin.activated ? (\n                    <button\n                        className=\"gv-button gv-button-secondary\"\n                        disabled={pluginInAction[plugin.slug]}\n                        onClick={() => handleClick(\"deactivate\")}\n                    >\n                        {pluginInAction[plugin.slug]\n                            ? marketplaceConfig.labels.deactivating\n                            : marketplaceConfig.labels.deactivate}\n                    </button>\n                ) : (\n                    <button\n                        className=\"gv-button gv-button-primary\"\n                        disabled={pluginInAction[plugin.slug]}\n                        onClick={() => handleClick(\"activate\")}\n                    >\n                        {pluginInAction[plugin.slug]\n                            ? marketplaceConfig.labels.activating\n                            : marketplaceConfig.labels.activate}\n                    </button>\n                )\n            ) : (\n                <button\n                    className=\"gv-button gv-button-secondary\"\n                    disabled={pluginInAction[plugin.slug]}\n                    onClick={() => handleClick(\"install\")}\n                >\n                    {pluginInAction[plugin.slug]\n                        ? marketplaceConfig.labels.installing\n                        : marketplaceConfig.labels.install}\n                </button>\n            )}\n        </div>\n    );\n}","export function normalizePlugins(rawResponse) {\n  if (!rawResponse || !rawResponse.data?.ui_json) return [];\n\n  return rawResponse.data.ui_json.map((plugin) => {\n    return {\n      ...plugin, // spread first ✅\n      name: plugin.name || \"Unknown\",\n      slug: plugin.slug || \"\",\n      price: plugin.price || \"\",\n      author: plugin.author || \"\",\n      version: plugin.version || \"\",\n      download: plugin.download || \"\",\n      thumbnail: plugin.thumbnail || \"\",\n      description: typeof plugin.description === \"object\"\n          ? plugin.description[\"en-gb\"] || Object.values(plugin.description)[0] || \"\"\n          : (plugin.description || \"\"),\n      installed: plugin.installed ?? false,\n      activated: plugin.activated ?? false,\n    };\n  });\n}","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React, { useEffect, useState } from '@wordpress/element';\nimport { createRoot } from \"@wordpress/element\";\nimport {normalizePlugins} from \"./components/normalised-plugins\";\nimport Marketplace from \"./components/MarketPlace\";\n\nconst MarketplaceApp = ({ apiBaseUrl, useWPHandlers, wpConfig, enableDefaultStyles }) => {\n    return (\n        <div className=\"marketplace-container gv-p-lg\">\n            <h2>Available Plugins</h2>\n            <Marketplace\n                apiBaseUrl={apiBaseUrl}\n                useWPHandlers={useWPHandlers}\n                wpConfig={wpConfig}\n                enableDefaultStyles={enableDefaultStyles}\n            />\n        </div>\n    );\n};\n\n// Inside-WP auto-mount\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const el = document.getElementById(\"marketplace-root\");\n    if (el) {\n        const config = window.marketplaceConfig || {};\n        const root = createRoot(el);\n        root.render(<MarketplaceApp {...config} />);\n    }\n});\n\n// Manual init for outside-WP usage\nexport function initMarketplaceApp(config) {\n    const el = document.querySelector(config.selector || \"#marketplace-root\");\n    if (el) {\n        const root = createRoot(el);\n        root.render(<MarketplaceApp {...config} />);\n    }\n}"],"names":["createContext","useContext","useState","useEffect","useRef","usePluginsData","error","PluginContext","PluginProvider","children","pluginsData","setPluginsData","loadingPlugins","toastData","setToastData","type","message","isLoading","setIsLoading","activeTab","setActiveTab","params","URLSearchParams","window","location","search","get","pluginList","setPluginList","loadingAction","setLoadingAction","loadingPlugin","setLoadingPlugin","tabs","key","label","ocpluginVars","labels","all","count","length","statsClass","recommendedPlugins","recommended","discouraged","updatePluginState","slug","newData","prev","map","plugin","prevPlugins","hasScrolledRef","targetSlug","current","pluginExistsInTab","some","setTimeout","element","document","getElementById","scrollIntoView","behavior","block","url","URL","href","searchParams","delete","history","replaceState","title","toString","createElement","Provider","value","usePluginContext","context","undefined","handlePluginDeactivation","ToggleButton","pluginInAction","setpluginInAction","onPluginDeactivation","handlePluginAction","action","actions","activating","deactivating","installing","name","response","fetch","ajax_url","method","headers","body","plugin_slug","plugin_name","download_url","downloadLink","plugin_type","pluginType","result","json","success","status","data","installed","activated","set","reload","console","log","warn","is_purchased","className","target","cpLogin","activate","guide_url","learnMore","src","imageURL","onClick","deactivate","install","plugins","setLoadingPlugins","fetchOtherPlugins","prevData","flat","Promise","allSettled","then","p","updatedDiscouragedPlugins","filter","Button","Card","CardBody","normalizePlugins","PluginActions","Marketplace","apiBaseUrl","useWPHandlers","wpConfig","enableDefaultStyles","setPlugins","loading","setLoading","setPluginInAction","fetchPlugins","res","normalized","e","nonce","alert","err","id","thumbnail","alt","width","height","description","shortDescription","onAction","React","handleClick","disabled","marketplaceConfig","rawResponse","ui_json","_plugin$installed","_plugin$activated","price","author","version","download","Object","values","createRoot","MarketplaceApp","addEventListener","el","config","root","render","initMarketplaceApp","querySelector","selector"],"sourceRoot":""}